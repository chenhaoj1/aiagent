# AI智能体平台 - 开发指南

## 项目已创建完成！

项目框架已搭建完毕，包含以下核心功能模块：

### 后端 (FastAPI)
- ✅ 用户认证系统（注册/登录/JWT）
- ✅ 知识库管理（文档上传/向量检索/智能问答）
- ✅ AI 视频生成（任务管理/模板管理）
- ✅ 通义千问 API 集成
- ✅ Milvus 向量数据库集成

### 前端 (Nuxt.js 3)
- ✅ 响应式布局
- ✅ 用户状态管理 (Pinia)
- ✅ API 请求封装
- ✅ 登录/注册页面
- ✅ 首页展示

## 快速开始

### 方式一：Docker Compose（推荐）

```bash
# 启动所有服务
docker-compose up -d

# 查看日志
docker-compose logs -f backend
```

### 方式二：手动启动

#### 1. 启动依赖服务

```bash
docker-compose up -d mysql redis milvus etcd minio
```

#### 2. 启动后端

```bash
cd backend

# 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 安装依赖
pip install -r requirements.txt

# 配置环境
cp .env.example .env
# 编辑 .env 文件，配置数据库连接和 API Key

# 启动服务
python main.py
```

#### 3. 启动前端

```bash
cd frontend

# 安装依赖
npm install

# 配置环境
cp .env.example .env

# 启动开发服务器
npm run dev
```

## 访问地址

| 服务 | 地址 |
|------|------|
| 前端 | http://localhost:5173 |
| 后端 API | http://localhost:8000 |
| API 文档 | http://localhost:8000/docs |

## 配置说明

### 后端配置 (backend/.env)

```bash
# 通义千问 API Key（必需）
QWEN_API_KEY=your-qwen-api-key

# 数据库连接
DATABASE_URL=mysql+pymysql://aiagent:aiagent_password@localhost:3306/ai_agent_platform

# Redis 连接
REDIS_URL=redis://localhost:6379/0

# Milvus 向量数据库
MILVUS_HOST=localhost
MILVUS_PORT=19530
```

### 前端配置 (frontend/.env)

```bash
# API 基础 URL
NUXT_PUBLIC_API_URL=http://localhost:8000
```

## 获取 API Key

1. **通义千问**: [阿里云百炼平台](https://dashscope.aliyun.com/)
2. **剪映 API**: [剪映开放平台](https://open.jianying.com/)

## 项目结构

```
aiapp/
├── backend/                    # 后端 FastAPI
│   ├── app/
│   │   ├── api/               # API 路由
│   │   │   ├── auth.py        # 认证接口
│   │   │   ├── knowledge_base.py  # 知识库接口
│   │   │   └── video.py       # 视频接口
│   │   ├── core/              # 核心配置
│   │   ├── models/            # 数据库模型
│   │   ├── schemas/           # Pydantic 模式
│   │   └── services/          # 业务服务
│   ├── main.py                # 主入口
│   └── requirements.txt       # 依赖
├── frontend/                   # 前端 Nuxt.js
│   ├── pages/                 # 页面
│   ├── layouts/               # 布局
│   ├── stores/                # 状态管理
│   └── utils/                 # 工具
├── docker-compose.yml         # Docker 配置
├── README.md                  # 项目说明
├── AI智能体平台可行性方案.md  # 可行性方案
└── 开发指南.md                # 本文件
```

## 下一步开发

1. **完善前端页面**
   - 知识库管理页面
   - AI 视频生成页面
   - 个人中心页面

2. **接入真实 AI 服务**
   - 配置通义千问 API Key
   - 接入剪映 API 进行视频生成
   - 优化 RAG 检索效果

3. **功能扩展**
   - AI 文案创作
   - AI 图片生成
   - 智能客服
   - 支付集成

4. **优化部署**
   - 配置 Nginx 反向代理
   - 设置 CDN 加速
   - 配置 HTTPS

## 常见问题

### Q: Milvus 启动失败？
A: 确保 Docker 有足够内存，建议至少 4GB 可用内存。

### Q: 通义千问 API 调用失败？
A: 检查 API Key 是否正确，是否有足够配额。

### Q: 前端无法连接后端？
A: 检查后端是否启动，检查 CORS 配置。

## 技术支持

- GitHub Issues: [提交问题](https://github.com/your-repo/aiagent-platform/issues)
- API 文档: http://localhost:8000/docs

---

**祝开发顺利！**
